---
import '../styles/globals.css';
import '../styles/colors.css';
import LoadingScreen from '../components/LoadingScreen';
import AuthDrawerIsland from '../react/AuthDrawerIsland';
const {
  title = 'MKY - The Lifestyle',
  description = 'Luxury Fashion House',
  stickyHeader = false,
  fullWidth = false,
} = Astro.props;
const isHome = Astro.url.pathname === '/';
const useStickyHeader = !isHome && stickyHeader;
const stickyBackground = 'rgba(38, 19, 21, 0.98)';
const applyStickyColor = !isHome || useStickyHeader;
const headerBackground = applyStickyColor ? stickyBackground : 'transparent';
const headerPositionClasses = useStickyHeader
  ? 'sticky top-0 left-0 right-0'
  : 'fixed top-0 left-0 right-0';
const headerEffectClasses = applyStickyColor
  ? 'backdrop-blur-md'
  : '';
const headerTextClasses = applyStickyColor ? 'text-[var(--brand-ink-exact)]' : '';
const shouldOffsetForHeader = !isHome && !useStickyHeader;
---
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <meta name="description" content={description} />
    <link rel="icon" type="image/png" href="/logo.png" />
    <link rel="preload" href="/logo.png" as="image" type="image/png" />
    <title>{title}</title>
  </head>
  <body class="min-h-screen text-neutral-900" style={{ backgroundColor: 'var(--brand-ink-exact)' }}>
    <LoadingScreen client:load />
    <div class="page-content">
    <header
      id="main-header"
      class={`${headerPositionClasses} ${headerEffectClasses} ${headerTextClasses} z-40 transition-all duration-300`}
      style={{ backgroundColor: headerBackground }}
    >
      <div class="max-w-7xl mx-auto px-6 h-16 md:h-20 flex items-center justify-between transition-all duration-300">
        <!-- Left: Menu + Search (Desktop) -->
        <div class="hidden md:flex items-center gap-8">
          <button id="desktop-menu-button" type="button" onclick="(function(){var d=document.getElementById('desktop-drawer');var o=document.getElementById('desktop-overlay');if(!d||!o)return;d.classList.remove('-translate-x-full');d.classList.add('translate-x-0');o.classList.remove('opacity-0','pointer-events-none');o.classList.add('opacity-100');document.body.style.overflow='hidden';})()" class="group inline-flex items-center gap-2 text-base tracking-wider transition-opacity hover:opacity-70" style={{ color: 'var(--brand-ink-exact)', fontFamily: 'Inter, sans-serif', textTransform: 'uppercase', fontSize: '0.875rem', letterSpacing: '0.1em' }} aria-label="Menu">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M4 7h16M4 12h16M4 17h16" />
            </svg>
            <span class="relative inline-block group-hover:font-semibold">Menu
              <span class="block h-[1.5px] bg-current origin-left scale-x-0 group-hover:scale-x-100 transition-transform duration-300 mt-0.5"></span>
            </span>
          </button>
          <a href="/search" class="group text-base tracking-wider transition-opacity hover:opacity-70" style={{ color: 'var(--brand-ink-exact)', fontFamily: 'Inter, sans-serif', textTransform: 'uppercase', fontSize: '0.875rem', letterSpacing: '0.1em' }}>
            <span class="relative inline-block group-hover:font-semibold">Search
              <span class="block h-[1.5px] bg-current origin-left scale-x-0 group-hover:scale-x-100 transition-transform duration-300 mt-0.5"></span>
            </span>
          </a>
        </div>

        <!-- Center: Logo -->
        <div id="logo-target" class="w-10 md:w-12 h-10 md:h-12">
          <a href="/" class="block w-full h-full">
            <img src="/logo.png" alt="MKY" class="w-full h-full object-contain" />
          </a>
        </div>
        
        <!-- Mobile menu button -->
        <button id="mobile-menu-button" type="button" onclick="(function(){var d=document.getElementById('mobile-drawer');var o=document.getElementById('mobile-overlay');if(!d||!o)return;d.classList.remove('translate-x-full');d.classList.add('translate-x-0');o.classList.remove('opacity-0','pointer-events-none');o.classList.add('opacity-100');document.body.style.overflow='hidden';})()" class="md:hidden text-[#F3E7DF] z-50" aria-label="Toggle menu">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>

        <!-- Right: Utility Nav (Desktop) -->
        <nav class="hidden md:flex items-center gap-8 text-sm">
          <form action="/" method="get" class="inline">
            <select name="currency" class="border-none bg-transparent text-sm tracking-wider" 
                    style={{ color: 'var(--brand-ink-exact)', fontFamily: 'Inter, sans-serif', textTransform: 'uppercase', fontSize: '0.875rem', letterSpacing: '0.1em' }}
                    onChange="document.cookie='mky_currency='+this.value+'; Path=/; Max-Age=31536000'; location.reload()">
              <option value="GBP">GBP</option>
              <option value="EUR">EUR</option>
            </select>
          </form>
          <a href="/cart" class="group tracking-wider transition-opacity hover:opacity-70" style={{ color: 'var(--brand-ink-exact)', fontFamily: 'Inter, sans-serif', textTransform: 'uppercase', fontSize: '0.875rem', letterSpacing: '0.1em' }}>
            <span class="relative inline-block group-hover:font-semibold">Cart
              <span class="block h-[1.5px] bg-current origin-left scale-x-0 group-hover:scale-x-100 transition-transform duration-300 mt-0.5"></span>
            </span>
          </a>
        </nav>

        
      </div>
    </header>

    <!-- Drawers and overlays mounted outside header to avoid stacking/context issues -->
    <!-- Desktop mega menu drawer (slides in from left) -->
    <div id="desktop-drawer" class="hidden md:block fixed inset-y-0 left-0 z-[1000] w-96 bg-[rgba(243,231,223,0.98)] backdrop-blur-lg shadow-2xl transition-transform duration-300 ease-in-out transform -translate-x-full">
      <div class="h-full flex flex-col px-10 py-12 overflow-y-auto">
        <!-- Close button -->
        <button id="close-desktop-drawer" type="button" onclick="(function(){var d=document.getElementById('desktop-drawer');var o=document.getElementById('desktop-overlay');if(!d||!o)return;d.classList.remove('translate-x-0');d.classList.add('-translate-x-full');o.classList.remove('opacity-100');o.classList.add('opacity-0','pointer-events-none');document.body.style.overflow='';})()" class="absolute top-8 right-8 transition-opacity hover:opacity-70" style={{ color: 'var(--brand-bg-exact)' }} aria-label="Close menu">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
        
        <!-- Main menu -->
        <nav class="mt-16 flex flex-col gap-6">
          <!-- Men Dropdown -->
          <div class="border-b border-[rgba(38,19,21,0.1)] pb-6">
            <button type="button" aria-expanded="false" onclick="(function(btn){var id=btn.getAttribute('data-target');var s=document.getElementById(id);var c=btn.querySelector('.drawer-chevron');if(!s)return;var hidden=s.classList.contains('hidden');if(hidden){s.classList.remove('hidden');if(c){c.style.transform='rotate(180deg)';}btn.setAttribute('aria-expanded','true');}else{s.classList.add('hidden');if(c){c.style.transform='rotate(0deg)';}btn.setAttribute('aria-expanded','false');}})(this)" class="drawer-toggle group w-full flex items-center justify-between py-2 text-left" data-target="men-submenu">
              <span class="relative inline-block text-xl tracking-wide group-hover:font-semibold" style={{ color: 'var(--brand-bg-exact)', fontFamily: 'Playfair Display, serif' }}>Men
                <span class="block h-[2px] bg-current origin-left scale-x-0 group-hover:scale-x-100 transition-transform duration-300 mt-0.5"></span>
              </span>
              <svg class="drawer-chevron h-5 w-5 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 9l-7 7-7-7" />
              </svg>
            </button>
            <div id="men-submenu" class="drawer-submenu hidden mt-3 ml-4 flex flex-col gap-3">
              <a href="/men/blazers" class="group text-base transition-opacity hover:opacity-70" style={{ color: 'rgba(38,19,21,0.7)', fontFamily: 'Inter, sans-serif' }}>
                <span class="relative inline-block group-hover:font-medium">Blazers
                  <span class="block h-[1.5px] bg-current origin-left scale-x-0 group-hover:scale-x-100 transition-transform duration-300 mt-0.5"></span>
                </span>
              </a>
              <a href="/men/trousers" class="group text-base transition-opacity hover:opacity-70" style={{ color: 'rgba(38,19,21,0.7)', fontFamily: 'Inter, sans-serif' }}>
                <span class="relative inline-block group-hover:font-medium">Trousers
                  <span class="block h-[1.5px] bg-current origin-left scale-x-0 group-hover:scale-x-100 transition-transform duration-300 mt-0.5"></span>
                </span>
              </a>
              <a href="/men" class="group text-base transition-opacity hover:opacity-70" style={{ color: 'rgba(38,19,21,0.7)', fontFamily: 'Inter, sans-serif' }}>
                <span class="relative inline-block group-hover:font-medium">View All Men's
                  <span class="block h-[1.5px] bg-current origin-left scale-x-0 group-hover:scale-x-100 transition-transform duration-300 mt-0.5"></span>
                </span>
              </a>
            </div>
          </div>
          
          <!-- Women Dropdown -->
          <div class="border-b border-[rgba(38,19,21,0.1)] pb-6">
            <button type="button" aria-expanded="false" onclick="(function(btn){var id=btn.getAttribute('data-target');var s=document.getElementById(id);var c=btn.querySelector('.drawer-chevron');if(!s)return;var hidden=s.classList.contains('hidden');if(hidden){s.classList.remove('hidden');if(c){c.style.transform='rotate(180deg)';}btn.setAttribute('aria-expanded','true');}else{s.classList.add('hidden');if(c){c.style.transform='rotate(0deg)';}btn.setAttribute('aria-expanded','false');}})(this)" class="drawer-toggle group w-full flex items-center justify-between py-2 text-left" data-target="women-submenu">
              <span class="relative inline-block text-xl tracking-wide group-hover:font-semibold" style={{ color: 'var(--brand-bg-exact)', fontFamily: 'Playfair Display, serif' }}>Women
                <span class="block h-[2px] bg-current origin-left scale-x-0 group-hover:scale-x-100 transition-transform duration-300 mt-0.5"></span>
              </span>
              <svg class="drawer-chevron h-5 w-5 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 9l-7 7-7-7" />
              </svg>
            </button>
            <div id="women-submenu" class="drawer-submenu hidden mt-3 ml-4 flex flex-col gap-3">
              <a href="/women/blazers" class="group text-base transition-opacity hover:opacity-70" style={{ color: 'rgba(38,19,21,0.7)', fontFamily: 'Inter, sans-serif' }}>
                <span class="relative inline-block group-hover:font-medium">Blazers
                  <span class="block h-[1.5px] bg-current origin-left scale-x-0 group-hover:scale-x-100 transition-transform duration-300 mt-0.5"></span>
                </span>
              </a>
              <a href="/women/trousers" class="group text-base transition-opacity hover:opacity-70" style={{ color: 'rgba(38,19,21,0.7)', fontFamily: 'Inter, sans-serif' }}>
                <span class="relative inline-block group-hover:font-medium">Trousers
                  <span class="block h-[1.5px] bg-current origin-left scale-x-0 group-hover:scale-x-100 transition-transform duration-300 mt-0.5"></span>
                </span>
              </a>
              <a href="/women" class="group text-base transition-opacity hover:opacity-70" style={{ color: 'rgba(38,19,21,0.7)', fontFamily: 'Inter, sans-serif' }}>
                <span class="relative inline-block group-hover:font-medium">View All Women's
                  <span class="block h-[1.5px] bg-current origin-left scale-x-0 group-hover:scale-x-100 transition-transform duration-300 mt-0.5"></span>
                </span>
              </a>
            </div>
          </div>
          
          <!-- Single Links -->
          <a href="/products" class="group py-3 text-xl tracking-wide transition-opacity hover:opacity-70 border-b border-[rgba(38,19,21,0.1)]" style={{ color: 'var(--brand-bg-exact)', fontFamily: 'Playfair Display, serif' }}>
            <span class="relative inline-block group-hover:font-semibold">Explore the Collection
              <span class="block h-[2px] bg-current origin-left scale-x-0 group-hover:scale-x-100 transition-transform duration-300 mt-0.5"></span>
            </span>
          </a>
          <a href="/products" class="group py-3 text-xl tracking-wide transition-opacity hover:opacity-70 border-b border-[rgba(38,19,21,0.1)]" style={{ color: 'var(--brand-bg-exact)', fontFamily: 'Playfair Display, serif' }}>
            <span class="relative inline-block group-hover:font-semibold">New Arrivals
              <span class="block h-[2px] bg-current origin-left scale-x-0 group-hover:scale-x-100 transition-transform duration-300 mt-0.5"></span>
            </span>
          </a>
          <a href="/sustainability" class="group py-3 text-xl tracking-wide transition-opacity hover:opacity-70 border-b border-[rgba(38,19,21,0.1)]" style={{ color: 'var(--brand-bg-exact)', fontFamily: 'Playfair Display, serif' }}>
            <span class="relative inline-block group-hover:font-semibold">Sustainability
              <span class="block h-[2px] bg-current origin-left scale-x-0 group-hover:scale-x-100 transition-transform duration-300 mt-0.5"></span>
            </span>
          </a>
          <a href="/our-story" class="group py-3 text-xl tracking-wide transition-opacity hover:opacity-70 border-b border-[rgba(38,19,21,0.1)]" style={{ color: 'var(--brand-bg-exact)', fontFamily: 'Playfair Display, serif' }}>
            <span class="relative inline-block group-hover:font-semibold">Our Story
              <span class="block h-[2px] bg-current origin-left scale-x-0 group-hover:scale-x-100 transition-transform duration-300 mt-0.5"></span>
            </span>
          </a>
        </nav>
        <div class="mt-auto">
          <AuthDrawerIsland variant="desktop" client:load />
        </div>
      </div>
    </div>

    <!-- Mobile drawer menu (slides in from right) -->
    <div id="mobile-drawer" class="md:hidden fixed inset-y-0 right-0 z-[1000] w-[85vw] max-w-md bg-[rgba(38,19,21,0.98)] backdrop-blur-lg shadow-lg transition-transform duration-300 ease-in-out transform translate-x-full">
      <div class="h-full flex flex-col justify-between px-8 py-10 overflow-y-auto">
        <!-- Close button -->
        <button id="close-drawer-button" type="button" onclick="(function(){var d=document.getElementById('mobile-drawer');var o=document.getElementById('mobile-overlay');if(!d||!o)return;d.classList.remove('translate-x-0');d.classList.add('translate-x-full');o.classList.remove('opacity-100');o.classList.add('opacity-0','pointer-events-none');document.body.style.overflow='';})()" class="absolute top-6 right-6 text-[var(--brand-ink-exact)]" aria-label="Close menu">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
        
        <!-- Main menu -->
        <div class="mt-16">
          <nav class="flex flex-col gap-6">
            <!-- Men Dropdown -->
            <div class="border-b border-[rgba(243,231,223,0.1)] pb-6">
              <button type="button" aria-expanded="false" onclick="(function(btn){var id=btn.getAttribute('data-target');var s=document.getElementById(id);var c=btn.querySelector('.drawer-chevron');if(!s)return;var hidden=s.classList.contains('hidden');if(hidden){s.classList.remove('hidden');if(c){c.style.transform='rotate(180deg)';}btn.setAttribute('aria-expanded','true');}else{s.classList.add('hidden');if(c){c.style.transform='rotate(0deg)';}btn.setAttribute('aria-expanded','false');}})(this)" class="drawer-toggle w-full flex items-center justify-between py-2 text-left" data-target="mobile-men-submenu">
                <span class="text-2xl tracking-wide text-[var(--brand-ink-exact)]" style={{ fontFamily: 'Playfair Display, serif' }}>Men</span>
                <svg class="drawer-chevron h-5 w-5 text-[var(--brand-ink-exact)] transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 9l-7 7-7-7" />
                </svg>
              </button>
              <div id="mobile-men-submenu" class="drawer-submenu hidden mt-4 ml-4 flex flex-col gap-3">
                <a href="/men/blazers" class="text-base hover:opacity-70 transition-opacity" style={{ color: 'rgba(243,231,223,0.8)', fontFamily: 'Inter, sans-serif' }}>Blazers</a>
                <a href="/men/trousers" class="text-base hover:opacity-70 transition-opacity" style={{ color: 'rgba(243,231,223,0.8)', fontFamily: 'Inter, sans-serif' }}>Trousers</a>
                <a href="/men" class="text-base hover:opacity-70 transition-opacity" style={{ color: 'rgba(243,231,223,0.8)', fontFamily: 'Inter, sans-serif' }}>View All Men's</a>
              </div>
            </div>
            
            <!-- Women Dropdown -->
            <div class="border-b border-[rgba(243,231,223,0.1)] pb-6">
              <button type="button" aria-expanded="false" onclick="(function(btn){var id=btn.getAttribute('data-target');var s=document.getElementById(id);var c=btn.querySelector('.drawer-chevron');if(!s)return;var hidden=s.classList.contains('hidden');if(hidden){s.classList.remove('hidden');if(c){c.style.transform='rotate(180deg)';}btn.setAttribute('aria-expanded','true');}else{s.classList.add('hidden');if(c){c.style.transform='rotate(0deg)';}btn.setAttribute('aria-expanded','false');}})(this)" class="drawer-toggle w-full flex items-center justify-between py-2 text-left" data-target="mobile-women-submenu">
                <span class="text-2xl tracking-wide text-[var(--brand-ink-exact)]" style={{ fontFamily: 'Playfair Display, serif' }}>Women</span>
                <svg class="drawer-chevron h-5 w-5 text-[var(--brand-ink-exact)] transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 9l-7 7-7-7" />
                </svg>
              </button>
              <div id="mobile-women-submenu" class="drawer-submenu hidden mt-4 ml-4 flex flex-col gap-3">
                <a href="/women/blazers" class="text-base hover:opacity-70 transition-opacity" style={{ color: 'rgba(243,231,223,0.8)', fontFamily: 'Inter, sans-serif' }}>Blazers</a>
                <a href="/women/trousers" class="text-base hover:opacity-70 transition-opacity" style={{ color: 'rgba(243,231,223,0.8)', fontFamily: 'Inter, sans-serif' }}>Trousers</a>
                <a href="/women" class="text-base hover:opacity-70 transition-opacity" style={{ color: 'rgba(243,231,223,0.8)', fontFamily: 'Inter, sans-serif' }}>View All Women's</a>
              </div>
            </div>
            
            <!-- Single Links -->
            <a href="/products" class="py-3 text-2xl tracking-wide text-[var(--brand-ink-exact)] hover:opacity-80 transition-opacity border-b border-[rgba(243,231,223,0.1)]" style={{ fontFamily: 'Playfair Display, serif' }}>Explore the Collection</a>
            <a href="/products" class="py-3 text-2xl tracking-wide text-[var(--brand-ink-exact)] hover:opacity-80 transition-opacity border-b border-[rgba(243,231,223,0.1)]" style={{ fontFamily: 'Playfair Display, serif' }}>New Arrivals</a>
            <a href="/sustainability" class="py-3 text-2xl tracking-wide text-[var(--brand-ink-exact)] hover:opacity-80 transition-opacity border-b border-[rgba(243,231,223,0.1)]" style={{ fontFamily: 'Playfair Display, serif' }}>Sustainability</a>
            <a href="/our-story" class="py-3 text-2xl tracking-wide text-[var(--brand-ink-exact)] hover:opacity-80 transition-opacity border-b border-[rgba(243,231,223,0.1)]" style={{ fontFamily: 'Playfair Display, serif' }}>Our Story</a>
            <a href="/search" class="py-3 text-2xl tracking-wide text-[var(--brand-ink-exact)] hover:opacity-80 transition-opacity border-b border-[rgba(243,231,223,0.1)]" style={{ fontFamily: 'Playfair Display, serif' }}>Search</a>
            <a href="/cart" class="py-3 text-2xl tracking-wide text-[var(--brand-ink-exact)] hover:opacity-80 transition-opacity border-b border-[rgba(243,231,223,0.1)]" style={{ fontFamily: 'Playfair Display, serif' }}>Cart</a>
          </nav>
        </div>
        <div class="mt-auto">
          <AuthDrawerIsland variant="mobile" client:load />
          
          <!-- Currency selector at bottom -->
          <div class="pb-8 border-t border-[rgba(243,231,223,0.1)] pt-6">
            <div class="text-[var(--brand-ink-exact)] mb-3 text-sm tracking-wider uppercase" style={{ fontFamily: 'Inter, sans-serif' }}>Currency</div>
            <form action="/" method="get">
              <select name="currency" class="w-full border-none bg-transparent text-base text-[var(--brand-ink-exact)]" style={{ fontFamily: 'Inter, sans-serif' }}
                      onChange="document.cookie='mky_currency='+this.value+'; Path=/; Max-Age=31536000'; location.reload()">
                <option value="GBP">GBP</option>
                <option value="EUR">EUR</option>
              </select>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Overlay backdrop for drawers -->
    <div id="mobile-overlay" onclick="(function(){var d=document.getElementById('mobile-drawer');var o=document.getElementById('mobile-overlay');if(!d||!o)return;d.classList.remove('translate-x-0');d.classList.add('translate-x-full');o.classList.remove('opacity-100');o.classList.add('opacity-0','pointer-events-none');document.body.style.overflow='';})()" class="md:hidden fixed inset-0 bg-black/50 backdrop-blur-sm z-[900] opacity-0 pointer-events-none transition-opacity duration-300"></div>
    <div id="desktop-overlay" onclick="(function(){var d=document.getElementById('desktop-drawer');var o=document.getElementById('desktop-overlay');if(!d||!o)return;d.classList.remove('translate-x-0');d.classList.add('-translate-x-full');o.classList.remove('opacity-100');o.classList.add('opacity-0','pointer-events-none');document.body.style.overflow='';})()" class="hidden md:block fixed inset-0 bg-black/30 backdrop-blur-sm z-[900] opacity-0 pointer-events-none transition-opacity duration-300"></div>
    
    
    <!-- Add padding to account for fixed header (not on home page) -->
    {shouldOffsetForHeader && <div class="h-16 md:h-20"></div>}
    <main class={`${fullWidth ? 'max-w-none px-0 py-0' : 'max-w-[1920px] mx-auto px-4 md:px-6 py-6 md:py-8'}`}>
      <slot />
    </main>
    <footer class="border-t border-neutral-700/10 py-16 mt-24" style={{ backgroundColor: 'var(--brand-bg-exact)' }}>
      <div class="max-w-7xl mx-auto px-6">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-10">
          <div>
            <h3 class="font-light tracking-widest mb-4 text-[#F3E7DF]" style={{ color: 'var(--brand-ink-exact)' }}>MKY - The Lifestyle</h3>
            <p class="text-sm text-[#F3E7DF]/70" style={{ color: 'rgba(243, 231, 223, 0.7)' }}>Luxury apparel crafted in Italy with the finest materials.</p>
          </div>
          <div>
            <h4 class="font-medium mb-4 text-sm text-[#F3E7DF]" style={{ color: 'var(--brand-ink-exact)' }}>COLLECTIONS</h4>
            <ul class="space-y-2 text-sm text-[#F3E7DF]/70" style={{ color: 'rgba(243, 231, 223, 0.7)' }}>
              <li><a href="/men" class="hover:text-[#F3E7DF] transition-colors" style={{ color: 'rgba(243, 231, 223, 0.7)' }}>Men</a></li>
              <li><a href="/women" class="hover:text-[#F3E7DF] transition-colors" style={{ color: 'rgba(243, 231, 223, 0.7)' }}>Women</a></li>
            </ul>
          </div>
          <div>
            <h4 class="font-medium mb-4 text-sm text-[#F3E7DF]" style={{ color: 'var(--brand-ink-exact)' }}>CUSTOMER CARE</h4>
            <ul class="space-y-2 text-sm text-[#F3E7DF]/70" style={{ color: 'rgba(243, 231, 223, 0.7)' }}>
              <li><a href="/contact" class="hover:text-[#F3E7DF] transition-colors" style={{ color: 'rgba(243, 231, 223, 0.7)' }}>Contact</a></li>
              <li><a href="/shipping" class="hover:text-[#F3E7DF] transition-colors" style={{ color: 'rgba(243, 231, 223, 0.7)' }}>Shipping</a></li>
              <li><a href="/returns" class="hover:text-[#F3E7DF] transition-colors" style={{ color: 'rgba(243, 231, 223, 0.7)' }}>Returns</a></li>
            </ul>
          </div>
          <div>
            <h4 class="font-medium mb-4 text-sm text-[#F3E7DF]" style={{ color: 'var(--brand-ink-exact)' }}>LEGAL</h4>
            <ul class="space-y-2 text-sm text-[#F3E7DF]/70" style={{ color: 'rgba(243, 231, 223, 0.7)' }}>
              <li><a href="/privacy" class="hover:text-[#F3E7DF] transition-colors" style={{ color: 'rgba(243, 231, 223, 0.7)' }}>Privacy</a></li>
              <li><a href="/terms" class="hover:text-[#F3E7DF] transition-colors" style={{ color: 'rgba(243, 231, 223, 0.7)' }}>Terms</a></li>
            </ul>
          </div>
        </div>
        <div class="mt-16 pt-8 border-t border-[#F3E7DF]/10 text-sm text-[#F3E7DF]/50" style={{ color: 'rgba(243, 231, 223, 0.5)' }}>
          Â© {new Date().getFullYear()} MKY - The Lifestyle. All rights reserved.
        </div>
      </div>
    </footer>
    </div>

    <script>
      // Mobile drawer menu and desktop drawer menu functionality
      const initNav = () => {
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileDrawer = document.getElementById('mobile-drawer');
        const mobileCloseButton = document.getElementById('close-drawer-button');
        const mobileOverlay = document.getElementById('mobile-overlay');
        
        const desktopMenuButton = document.getElementById('desktop-menu-button');
        const desktopDrawer = document.getElementById('desktop-drawer');
        const desktopCloseButton = document.getElementById('close-desktop-drawer');
        const desktopOverlay = document.getElementById('desktop-overlay');
        
        let mobileMenuOpen = false;
        let desktopMenuOpen = false;

        // Open mobile drawer
        const openMobileDrawer = () => {
          // show drawer
          mobileDrawer.classList.remove('translate-x-full');
          mobileDrawer.classList.add('translate-x-0');
          // show overlay
          mobileOverlay.classList.remove('opacity-0', 'pointer-events-none');
          mobileOverlay.classList.add('opacity-100');
          document.body.style.overflow = 'hidden';
          
          mobileMenuOpen = true;
        };
        // expose for inline fallback
        window.mkyOpenMobileDrawer = openMobileDrawer;
        
        // Close mobile drawer
        const closeMobileDrawer = () => {
          // hide drawer
          mobileDrawer.classList.remove('translate-x-0');
          mobileDrawer.classList.add('translate-x-full');
          // hide overlay
          mobileOverlay.classList.remove('opacity-100');
          mobileOverlay.classList.add('opacity-0', 'pointer-events-none');
          document.body.style.overflow = '';
          
          mobileMenuOpen = false;
        };
        window.mkyCloseMobileDrawer = closeMobileDrawer;

        // Open desktop drawer
        const openDesktopDrawer = () => {
          if (!desktopDrawer || !desktopOverlay) return;
          // show drawer
          desktopDrawer.classList.remove('-translate-x-full');
          desktopDrawer.classList.add('translate-x-0');
          // show overlay
          desktopOverlay.classList.remove('opacity-0', 'pointer-events-none');
          desktopOverlay.classList.add('opacity-100');
          document.body.style.overflow = 'hidden';
          desktopMenuOpen = true;
        };
        window.mkyOpenDesktopDrawer = openDesktopDrawer;
        
        // Close desktop drawer
        const closeDesktopDrawer = () => {
          if (!desktopDrawer || !desktopOverlay) return;
          // hide drawer
          desktopDrawer.classList.remove('translate-x-0');
          desktopDrawer.classList.add('-translate-x-full');
          // hide overlay
          desktopOverlay.classList.remove('opacity-100');
          desktopOverlay.classList.add('opacity-0', 'pointer-events-none');
          document.body.style.overflow = '';
          desktopMenuOpen = false;
        };
        window.mkyCloseDesktopDrawer = closeDesktopDrawer;

        // Add event listeners - Mobile (guarded)
        if (mobileMenuButton && mobileDrawer && mobileOverlay && mobileCloseButton) {
          mobileMenuButton.addEventListener('click', openMobileDrawer);
          mobileCloseButton.addEventListener('click', closeMobileDrawer);
          mobileOverlay.addEventListener('click', closeMobileDrawer);
          
          // Close mobile drawer on nav link clicks
          const mobileLinks = mobileDrawer.querySelectorAll('a');
          mobileLinks.forEach(link => {
            link.addEventListener('click', closeMobileDrawer);
          });
        }

        // Add event listeners - Desktop
        if (desktopMenuButton && desktopCloseButton && desktopOverlay) {
          desktopMenuButton.addEventListener('click', openDesktopDrawer);
          desktopCloseButton.addEventListener('click', closeDesktopDrawer);
          desktopOverlay.addEventListener('click', closeDesktopDrawer);
          
          // Close desktop drawer on nav link clicks
          if (desktopDrawer) {
            const desktopLinks = desktopDrawer.querySelectorAll('a');
            desktopLinks.forEach(link => {
              link.addEventListener('click', closeDesktopDrawer);
            });
          }
        }

        // Close on window resize
        window.addEventListener('resize', () => {
          if (window.innerWidth >= 768 && mobileMenuOpen) {
            closeMobileDrawer();
          }
          if (window.innerWidth < 768 && desktopMenuOpen) {
            closeDesktopDrawer();
          }
        });
        
        // Accordion functionality for drawer menus (global delegation)
        document.addEventListener('click', (event) => {
          const t = event.target;
          if (!t || !(t instanceof Element)) return;
          const toggle = t.closest('.drawer-toggle');
          if (!toggle) return;
          const targetId = toggle.getAttribute('data-target');
          let submenu = null;
          if (targetId) submenu = document.getElementById(targetId);
          if (!submenu) {
            const nextEl = toggle.nextElementSibling;
            if (nextEl && nextEl.classList && nextEl.classList.contains('drawer-submenu')) submenu = nextEl;
          }
          if (!submenu) return;
          const chevron = toggle.querySelector('.drawer-chevron');
          const isHidden = submenu.classList.contains('hidden');
          if (isHidden) {
            submenu.classList.remove('hidden');
            if (chevron) chevron.style.transform = 'rotate(180deg)';
            toggle.setAttribute('aria-expanded', 'true');
          } else {
            submenu.classList.add('hidden');
            if (chevron) chevron.style.transform = 'rotate(0deg)';
            toggle.setAttribute('aria-expanded', 'false');
          }
        });
      };
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initNav);
      } else {
        initNav();
      }
    </script>
  </body>
</html>



