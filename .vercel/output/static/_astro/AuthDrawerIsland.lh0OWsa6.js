import{j as e}from"./jsx-runtime.D3GSbgeI.js";import{r as s}from"./index.bmQhMlF6.js";import{c as I}from"./index.FHxf1fDt.js";import"./index.yBjzXJbu.js";const a=I("https://apkohkqyebipmzvdwxgr.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFwa29oa3F5ZWJpcG16dmR3eGdyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg5ODQwNDgsImV4cCI6MjA3NDU2MDA0OH0.eEvBZRf_sFDKThtjg9PxqDiK-N4eGkhxpf3W8DNqHQs");function F({variant:n}){const[m,l]=s.useState(null),[f,p]=s.useState(null),[b,h]=s.useState(!0);s.useEffect(()=>{let u=!0;(async()=>{const{data:d}=await a.auth.getUser();if(!u)return;const t=d?.user||null;if(l(t),t)try{const{data:i}=await a.from("profiles").select("display_name, first_name, last_name").eq("id",t.id).single(),y=i?.display_name||[i?.first_name,i?.last_name].filter(Boolean).join(" ")||t?.user_metadata?.full_name||t.email;p((y||"").trim()||null)}catch{}h(!1)})();const{data:g}=a.auth.onAuthStateChange((d,t)=>{l(t?.user??null)});return()=>{u=!1,g?.subscription?.unsubscribe?.()}},[]);async function x(){await a.auth.signOut(),location.reload()}const r=n==="desktop"?"text-[var(--brand-bg-exact)]":"text-[var(--brand-ink-exact)]",c=n==="desktop"?"text-[rgba(38,19,21,0.7)]":"text-[rgba(243,231,223,0.8)]",o=n==="desktop"?"border-[rgba(38,19,21,0.1)]":"border-[rgba(243,231,223,0.1)]";return b?null:m?e.jsxs("div",{className:`pt-6 border-t ${o}`,children:[e.jsx("div",{className:`${c} text-sm tracking-wider uppercase mb-1`,style:{fontFamily:"Inter, sans-serif"},children:"Account"}),e.jsxs("div",{className:`${r} mb-3`,style:{fontFamily:"Inter, sans-serif"},children:["Welcome back, ",f||"Friend"]}),e.jsx("button",{onClick:x,className:"btn btn-outline",children:"Sign out"})]}):e.jsxs("div",{className:`pt-6 border-t ${o}`,children:[e.jsx("div",{className:`${c} mb-3 text-sm tracking-wider uppercase`,style:{fontFamily:"Inter, sans-serif"},children:"Account"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("a",{href:"/login",className:`${r} underline-offset-4 hover:underline`,style:{fontFamily:"Inter, sans-serif"},children:"Sign in"}),e.jsx("a",{href:"/signup",className:`${r} underline-offset-4 hover:underline`,style:{fontFamily:"Inter, sans-serif"},children:"Create account"})]})]})}export{F as default};
