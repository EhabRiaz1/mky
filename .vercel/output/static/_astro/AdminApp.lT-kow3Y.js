import{j as e}from"./jsx-runtime.D3GSbgeI.js";import{u as be,L as P,R as ye,a as y,N as oe}from"./AdminIsland.CBu8jG0T.js";import{r as a}from"./index.bmQhMlF6.js";import{c as A}from"./index.FHxf1fDt.js";import{g as _e}from"./supabaseClient.DQBRCACc.js";/* empty css                       */import"./index.yBjzXJbu.js";import"./index.BbTPjBLC.js";const Se=A("https://apkohkqyebipmzvdwxgr.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFwa29oa3F5ZWJpcG16dmR3eGdyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg5ODQwNDgsImV4cCI6MjA3NDU2MDA0OH0.eEvBZRf_sFDKThtjg9PxqDiK-N4eGkhxpf3W8DNqHQs");function Ce(){const[l,c]=a.useState([]),[g,x]=a.useState(!0);if(a.useEffect(()=>{(async()=>{const{data:r}=await Se.from("orders").select("id, email, total_cents, status, created_at").order("created_at",{ascending:!1});c(r||[]),x(!1)})()},[]),g)return e.jsx("div",{className:"admin-loading",children:"Loading orders…"});const h=r=>{switch(r.toLowerCase()){case"completed":return"status-completed";case"cancelled":return"status-cancelled";case"pending":default:return"status-pending"}};return e.jsxs("div",{children:[e.jsx("h2",{className:"admin-section-title",children:"Orders"}),e.jsx("div",{className:"admin-box",children:e.jsxs("table",{className:"admin-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Order ID"}),e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Total"}),e.jsx("th",{children:"Created"})]})}),e.jsx("tbody",{children:l.map(r=>e.jsxs("tr",{children:[e.jsx("td",{children:r.id.slice(0,8)}),e.jsx("td",{children:r.email??"—"}),e.jsx("td",{children:e.jsx("span",{className:`status-pill ${h(r.status)}`,children:r.status})}),e.jsxs("td",{children:["$",(r.total_cents/100).toFixed(2)]}),e.jsx("td",{children:new Date(r.created_at).toLocaleString()})]},r.id))})]})})]})}const $=A("https://apkohkqyebipmzvdwxgr.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFwa29oa3F5ZWJpcG16dmR3eGdyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg5ODQwNDgsImV4cCI6MjA3NDU2MDA0OH0.eEvBZRf_sFDKThtjg9PxqDiK-N4eGkhxpf3W8DNqHQs");function Ie(){const[l,c]=a.useState([]),[g,x]=a.useState(!0);async function h(){const{data:r}=await $.from("orders").select("id,email,total_cents,status,created_at").eq("status","pending").order("created_at",{ascending:!1});c(r||[]),x(!1)}return a.useEffect(()=>{h()},[]),g?e.jsx("div",{className:"admin-loading",children:"Loading pending orders…"}):e.jsxs("div",{children:[e.jsx("h2",{className:"admin-section-title",children:"Pending Orders"}),e.jsx("div",{className:"admin-box",children:e.jsxs("table",{className:"admin-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Order ID"}),e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Total"}),e.jsx("th",{children:"Created"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:l.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,style:{textAlign:"center",padding:"2rem"},children:"No pending orders at this time"})}):l.map(r=>e.jsxs("tr",{children:[e.jsx("td",{children:r.id.slice(0,8)}),e.jsx("td",{children:r.email??"—"}),e.jsxs("td",{children:["$",(r.total_cents/100).toFixed(2)]}),e.jsx("td",{children:new Date(r.created_at).toLocaleString()}),e.jsx("td",{children:e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx("button",{className:"admin-btn admin-btn-primary",onClick:async()=>{await $.rpc("order_set_status",{p_order_id:r.id,p_status:"paid"}),await h()},children:"Mark Paid"}),e.jsx("button",{className:"admin-btn admin-btn-secondary",onClick:async()=>{await $.rpc("order_set_status",{p_order_id:r.id,p_status:"cancelled"}),await h()},children:"Cancel"})]})})]},r.id))})]})})]})}const G=A("https://apkohkqyebipmzvdwxgr.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFwa29oa3F5ZWJpcG16dmR3eGdyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg5ODQwNDgsImV4cCI6MjA3NDU2MDA0OH0.eEvBZRf_sFDKThtjg9PxqDiK-N4eGkhxpf3W8DNqHQs");function we(){const[l,c]=a.useState([]),[g,x]=a.useState(!0),[h,r]=a.useState(!1),[n,o]=a.useState({code:"",type:"percentage",percentage:10,amount:10,scope:"order",stacking:"exclusive",active:!0,starts_at:"",ends_at:"",min_subtotal:0}),j=a.useMemo(()=>n.type==="percentage",[n.type]),_=a.useMemo(()=>n.type==="amount_off",[n.type]);return a.useEffect(()=>{(async()=>{const{data:t}=await G.from("discounts").select("id, code, type, active, starts_at, ends_at").order("created_at",{ascending:!1});c(t||[]),x(!1)})()},[]),g?e.jsx("div",{className:"admin-loading",children:"Loading promotions…"}):e.jsxs("div",{children:[e.jsx("h2",{className:"admin-section-title",children:"Promotions & Discounts"}),e.jsx("div",{className:"admin-box",children:e.jsxs("details",{children:[e.jsx("summary",{className:"text-lg font-semibold mb-4 cursor-pointer",children:"Create New Promotion"}),e.jsxs("form",{onSubmit:async t=>{t.preventDefault(),r(!0);const f={code:n.code.trim(),type:n.type,scope:n.scope,stacking:n.stacking,active:n.active,min_subtotal_cents:n.min_subtotal>0?Math.round(n.min_subtotal*100):null,starts_at:n.starts_at||null,ends_at:n.ends_at||null};j&&(f.percentage=n.percentage),_&&(f.amount_cents=Math.round(n.amount*100));const{error:i}=await G.from("discounts").insert(f);if(r(!1),i)alert("Failed to create promotion. Check permissions and input.");else{const{data:m}=await G.from("discounts").select("id, code, type, active, starts_at, ends_at").order("created_at",{ascending:!1});c(m||[]),o({code:"",type:"percentage",percentage:10,amount:10,scope:"order",stacking:"exclusive",active:!0,starts_at:"",ends_at:"",min_subtotal:0})}},style:{display:"grid",gap:"1rem",maxWidth:"100%"},children:[e.jsxs("div",{className:"admin-form-group",children:[e.jsx("label",{className:"admin-form-label",children:"Promo Code"}),e.jsx("input",{className:"admin-form-input",value:n.code,onChange:t=>o({...n,code:t.target.value}),required:!0,placeholder:"e.g. WELCOME20"})]}),e.jsxs("div",{className:"admin-form-group",children:[e.jsx("label",{className:"admin-form-label",children:"Discount Type"}),e.jsxs("select",{className:"admin-form-select",value:n.type,onChange:t=>o({...n,type:t.target.value}),children:[e.jsx("option",{value:"percentage",children:"Percentage Off"}),e.jsx("option",{value:"amount_off",children:"Fixed Amount Off"}),e.jsx("option",{value:"free_shipping",children:"Free Shipping"})]})]}),j&&e.jsxs("div",{className:"admin-form-group",children:[e.jsx("label",{className:"admin-form-label",children:"Discount Percentage (%)"}),e.jsx("input",{className:"admin-form-input",type:"number",min:0,max:100,step:.01,value:n.percentage,onChange:t=>o({...n,percentage:parseFloat(t.target.value)})})]}),_&&e.jsxs("div",{className:"admin-form-group",children:[e.jsx("label",{className:"admin-form-label",children:"Discount Amount (USD)"}),e.jsx("input",{className:"admin-form-input",type:"number",min:0,step:.01,value:n.amount,onChange:t=>o({...n,amount:parseFloat(t.target.value)})})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem"},children:[e.jsxs("div",{className:"admin-form-group",children:[e.jsx("label",{className:"admin-form-label",children:"Start Date & Time"}),e.jsx("input",{className:"admin-form-input",type:"datetime-local",value:n.starts_at,onChange:t=>o({...n,starts_at:t.target.value})})]}),e.jsxs("div",{className:"admin-form-group",children:[e.jsx("label",{className:"admin-form-label",children:"End Date & Time"}),e.jsx("input",{className:"admin-form-input",type:"datetime-local",value:n.ends_at,onChange:t=>o({...n,ends_at:t.target.value})})]})]}),e.jsxs("div",{className:"admin-form-group",children:[e.jsx("label",{className:"admin-form-label",children:"Minimum Subtotal (USD)"}),e.jsx("input",{className:"admin-form-input",type:"number",min:0,step:.01,value:n.min_subtotal,onChange:t=>o({...n,min_subtotal:parseFloat(t.target.value)}),placeholder:"0 = no minimum"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem"},children:[e.jsxs("div",{className:"admin-form-group",children:[e.jsx("label",{className:"admin-form-label",children:"Discount Scope"}),e.jsxs("select",{className:"admin-form-select",value:n.scope,onChange:t=>o({...n,scope:t.target.value}),children:[e.jsx("option",{value:"order",children:"Entire Order"}),e.jsx("option",{value:"line",children:"Line Item"})]})]}),e.jsxs("div",{className:"admin-form-group",children:[e.jsx("label",{className:"admin-form-label",children:"Stacking Behavior"}),e.jsxs("select",{className:"admin-form-select",value:n.stacking,onChange:t=>o({...n,stacking:t.target.value}),children:[e.jsx("option",{value:"exclusive",children:"Exclusive (no stacking)"}),e.jsx("option",{value:"stackable",children:"Stackable with other discounts"})]})]})]}),e.jsx("div",{className:"admin-form-group",children:e.jsxs("label",{className:"flex items-center gap-2",style:{cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:n.active,onChange:t=>o({...n,active:t.target.checked})}),e.jsx("span",{children:"Promotion is Active"})]})}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"admin-btn admin-btn-primary",disabled:h,children:h?"Creating Promotion...":"Create Promotion"})})]})]})}),e.jsx("h3",{className:"admin-section-title",style:{fontSize:"1.25rem",marginTop:"2rem"},children:"Active Promotions"}),e.jsx("div",{className:"admin-box",children:e.jsxs("table",{className:"admin-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Promo Code"}),e.jsx("th",{children:"Discount Type"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Valid Period"})]})}),e.jsx("tbody",{children:l.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,style:{textAlign:"center",padding:"2rem"},children:"No promotions have been created yet"})}):l.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:t.code})}),e.jsx("td",{children:t.type.replace("_"," ")}),e.jsx("td",{children:e.jsx("span",{className:`status-pill ${t.active?"status-completed":"status-cancelled"}`,children:t.active?"Active":"Inactive"})}),e.jsxs("td",{children:[t.starts_at?new Date(t.starts_at).toLocaleDateString():"—"," → ",t.ends_at?new Date(t.ends_at).toLocaleDateString():"—"]})]},t.id))})]})})]})}const U=A("https://apkohkqyebipmzvdwxgr.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFwa29oa3F5ZWJpcG16dmR3eGdyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg5ODQwNDgsImV4cCI6MjA3NDU2MDA0OH0.eEvBZRf_sFDKThtjg9PxqDiK-N4eGkhxpf3W8DNqHQs");function De(){const[l,c]=a.useState([]),[g,x]=a.useState([]),[h,r]=a.useState([]),[n,o]=a.useState(!0),[j,_]=a.useState(30);a.useEffect(()=>{(async()=>{o(!0);const i=new Date(Date.now()-j*864e5).toISOString().slice(0,10),{data:m}=await U.from("kpi_daily_sales").select("*").gte("day",i).order("day",{ascending:!0});c(m||[]);const{data:u}=await U.from("kpi_channel_daily").select("*").gte("day",i);x(u||[]);const{data:v}=await U.from("kpi_product_perf").select("*").order("revenue_cents",{ascending:!1}).limit(10);r(v||[]),o(!1)})()},[j]);const t=a.useMemo(()=>{const i=l.reduce((u,v)=>(u.orders+=v.orders,u.units+=v.units,u.gross+=v.gross_revenue_cents,u.refunds+=v.refunds_cents,u.net+=v.net_revenue_cents,u),{orders:0,units:0,gross:0,refunds:0,net:0}),m=i.orders?Math.floor(i.gross/i.orders):0;return{...i,aov:m}},[l]);if(n)return e.jsx("div",{className:"admin-loading",children:"Loading analytics…"});const f=new Map;for(const i of g){const m=`${i.utm_source} / ${i.utm_medium}`,u=f.get(m)||{orders:0,revenue:0};u.orders+=i.orders,u.revenue+=i.revenue_cents,f.set(m,u)}return e.jsxs("div",{children:[e.jsx("h2",{className:"admin-section-title",children:"Analytics Dashboard"}),e.jsxs("div",{className:"admin-form-group",style:{display:"flex",alignItems:"center",marginBottom:"1.5rem"},children:[e.jsx("label",{className:"admin-form-label",style:{marginRight:"1rem",marginBottom:0},children:"Time Range:"}),e.jsxs("select",{className:"admin-form-select",value:j,onChange:i=>_(parseInt(i.target.value,10)),style:{width:"auto"},children:[e.jsx("option",{value:7,children:"Last 7 days"}),e.jsx("option",{value:30,children:"Last 30 days"}),e.jsx("option",{value:90,children:"Last 90 days"})]})]}),e.jsxs("div",{className:"stats-container",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-title",children:"Revenue (Gross)"}),e.jsxs("div",{className:"stat-value",children:["$",(t.gross/100).toLocaleString()]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-title",children:"Revenue (Net)"}),e.jsxs("div",{className:"stat-value",children:["$",(t.net/100).toLocaleString()]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-title",children:"Orders"}),e.jsx("div",{className:"stat-value",children:t.orders.toLocaleString()})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-title",children:"Units Sold"}),e.jsx("div",{className:"stat-value",children:t.units.toLocaleString()})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-title",children:"Average Order Value"}),e.jsxs("div",{className:"stat-value",children:["$",(t.aov/100).toLocaleString()]})]})]}),e.jsx("h3",{className:"admin-section-title",style:{fontSize:"1.25rem"},children:"Daily Performance"}),e.jsx("div",{className:"admin-box",children:e.jsxs("table",{className:"admin-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Orders"}),e.jsx("th",{children:"Units"}),e.jsx("th",{children:"Gross Revenue"}),e.jsx("th",{children:"Refunds"}),e.jsx("th",{children:"Net Revenue"}),e.jsx("th",{children:"AOV"})]})}),e.jsx("tbody",{children:l.map(i=>e.jsxs("tr",{children:[e.jsx("td",{children:i.day}),e.jsx("td",{children:i.orders}),e.jsx("td",{children:i.units}),e.jsxs("td",{children:["$",(i.gross_revenue_cents/100).toLocaleString()]}),e.jsxs("td",{children:["$",(i.refunds_cents/100).toLocaleString()]}),e.jsxs("td",{children:["$",(i.net_revenue_cents/100).toLocaleString()]}),e.jsxs("td",{children:["$",(i.aov_cents/100).toLocaleString()]})]},i.day))})]})}),e.jsxs("h3",{className:"admin-section-title",style:{fontSize:"1.25rem"},children:["Channels (last ",j," days)"]}),e.jsx("div",{className:"admin-box",children:e.jsxs("table",{className:"admin-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Source / Medium"}),e.jsx("th",{children:"Orders"}),e.jsx("th",{children:"Revenue"})]})}),e.jsx("tbody",{children:[...f.entries()].sort((i,m)=>m[1].revenue-i[1].revenue).map(([i,m])=>e.jsxs("tr",{children:[e.jsx("td",{children:i}),e.jsx("td",{children:m.orders}),e.jsxs("td",{children:["$",(m.revenue/100).toLocaleString()]})]},i))})]})}),e.jsx("h3",{className:"admin-section-title",style:{fontSize:"1.25rem"},children:"Top Performing Products"}),e.jsx("div",{className:"admin-box",children:e.jsxs("table",{className:"admin-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Product"}),e.jsx("th",{children:"Units Sold"}),e.jsx("th",{children:"Revenue"}),e.jsx("th",{children:"Orders"})]})}),e.jsx("tbody",{children:h.map(i=>e.jsxs("tr",{children:[e.jsx("td",{children:i.product_title||"Unknown"}),e.jsx("td",{children:i.units_sold}),e.jsxs("td",{children:["$",(i.revenue_cents/100).toLocaleString()]}),e.jsx("td",{children:i.orders})]},i.product_id||i.product_title||"unknown"))})]})})]})}const B=()=>_e();function Pe(l){return l.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)+/g,"")}function Le(){const[l,c]=a.useState(""),[g,x]=a.useState(""),[h,r]=a.useState(""),[n,o]=a.useState("men"),[j,_]=a.useState("published"),[t,f]=a.useState(""),[i,m]=a.useState("46,48,50"),[u,v]=a.useState(650),[E,me]=a.useState(720),[Q,Z]=a.useState(10),[W,H]=a.useState(""),[X,V]=a.useState(""),[K,Y]=a.useState(""),[ee,se]=a.useState(0),[ae,te]=a.useState(0),[ne,ie]=a.useState(0),[L,ue]=a.useState(null),[re,le]=a.useState(!1),[k,F]=a.useState(null),[de,he]=a.useState([]),[S,pe]=a.useState("all"),[z,xe]=a.useState(""),[ce,J]=a.useState([]),[ge,w]=a.useState(!1);a.useEffect(()=>{(async()=>{const s=B();if(!s)return;const{data:d}=await s.from("collections").select("id,slug,title").order("title");he(d||[]),await R()})()},[]);async function R(){w(!0);const s=B();if(!s){w(!1);return}let d=s.from("products").select("id,title,handle,gender,status").order("created_at",{ascending:!1});if(S!=="all"&&(d=d.eq("gender",S)),z){const{data:q}=await s.from("product_collections").select("product_id").eq("collection_id",z),O=q?.map(I=>I.product_id)||[];if(!O.length){J([]),w(!1);return}let C=s.from("products").select("id,title,handle,gender,status").in("id",O).order("created_at",{ascending:!1});S!=="all"&&(C=C.eq("gender",S));const{data:M}=await C;J(M||[]),w(!1);return}const{data:T}=await d;J(T||[]),w(!1)}a.useEffect(()=>{R()},[S,z]),a.useEffect(()=>{l&&x(Pe(l))},[l]);async function je(s){s.preventDefault(),le(!0),F(null);try{const d=B();if(!d)throw new Error("Supabase not configured. Set PUBLIC_SUPABASE_URL and PUBLIC_SUPABASE_ANON_KEY");const T=W.split(",").map(p=>p.trim()).filter(Boolean),q=X.split(`
`).map(p=>p.trim()).filter(Boolean),O=K.split(`
`).map(p=>p.trim()).filter(Boolean),{data:C,error:M}=await d.from("products").insert({title:l.trim(),handle:g.trim(),description:h||null,gender:n,status:j,price_gbp:Math.round(u),price_eur:Math.round(E),tags:T,product_details:q,materials_care:O,size_small_qty:ee,size_medium_qty:ae,size_large_qty:ne}).select("id").single();if(M||!C)throw new Error(M?.message||"product_create_failed");const I=C.id;t&&await d.from("product_collections").insert({product_id:I,collection_id:t});const fe=i.split(",").map(p=>p.trim()).filter(Boolean);for(const p of fe){const{data:N,error:D}=await d.from("product_variants").insert({product_id:I,sku:`SKU-${(Math.random()*1e9|0).toString(36).toUpperCase()}`,weight_grams:800}).select("id").single();if(D||!N)throw new Error(D?.message||"variant_failed");const b=N.id;await d.from("product_variant_options").insert({variant_id:b,name:"Size",value:p}),await d.from("prices").insert([{variant_id:b,currency:"GBP",unit_amount_cents:Math.round(u*100),tax_inclusive:!0},{variant_id:b,currency:"EUR",unit_amount_cents:Math.round(E*100),tax_inclusive:!0}]),await d.from("inventory").insert({variant_id:b,quantity:Q,low_stock_threshold:2})}if(L&&L.length>0){const p="product-images";for(let N=0;N<L.length;N++){const D=L[N],b=`${I}/${Date.now()}-${D.name}`,{error:ve}=await d.storage.from(p).upload(b,D,{upsert:!0});if(!ve){const{data:Ne}=d.storage.from(p).getPublicUrl(b);await d.from("product_images").insert({product_id:I,url:Ne.publicUrl,alt:l,position:N})}}}F("Product created"),c(""),x(""),r(""),m("46,48,50"),Z(10),H(""),V(""),Y(""),se(0),te(0),ie(0),await R()}catch(d){F(d.message||"Failed to create product")}finally{le(!1)}}return e.jsxs("div",{children:[e.jsx("h2",{className:"admin-section-title",children:"Catalog Management"}),e.jsxs("div",{className:"admin-box",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add New Product"}),e.jsxs("form",{onSubmit:je,style:{display:"grid",gap:"1rem",maxWidth:"100%"},children:[e.jsxs("div",{className:"admin-form-group",children:[e.jsx("label",{className:"admin-form-label",children:"Product Title"}),e.jsx("input",{required:!0,placeholder:"e.g. Men's Wool Blazer",value:l,onChange:s=>c(s.target.value),className:"admin-form-input"})]}),e.jsxs("div",{className:"admin-form-group",children:[e.jsx("label",{className:"admin-form-label",children:"Handle (URL slug)"}),e.jsx("input",{required:!0,placeholder:"mens-wool-blazer",value:g,onChange:s=>x(s.target.value),className:"admin-form-input"})]}),e.jsxs("div",{className:"admin-form-group",children:[e.jsx("label",{className:"admin-form-label",children:"Description"}),e.jsx("textarea",{placeholder:"Product description...",value:h,onChange:s=>r(s.target.value),className:"admin-form-textarea",rows:4})]}),e.jsxs("div",{className:"admin-form-group",children:[e.jsx("label",{className:"admin-form-label",children:"Product Details (one per line)"}),e.jsx("textarea",{placeholder:"• Tailored fit\\n• Single-breasted\\n• Half-canvas construction",value:X,onChange:s=>V(s.target.value),className:"admin-form-textarea",rows:4})]}),e.jsxs("div",{className:"admin-form-group",children:[e.jsx("label",{className:"admin-form-label",children:"Materials & Care (one per line)"}),e.jsx("textarea",{placeholder:"• 100% wool\\n• Dry clean only",value:K,onChange:s=>Y(s.target.value),className:"admin-form-textarea",rows:3})]}),e.jsxs("div",{className:"admin-form-group",children:[e.jsx("label",{className:"admin-form-label",children:"Tags (comma-separated)"}),e.jsx("input",{placeholder:"e.g. new, limited, bestseller",value:W,onChange:s=>H(s.target.value),className:"admin-form-input"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem"},children:[e.jsxs("div",{className:"admin-form-group",children:[e.jsx("label",{className:"admin-form-label",children:"Size Small (S) qty"}),e.jsx("input",{type:"number",min:0,step:1,value:ee,onChange:s=>se(parseInt(s.target.value||"0",10)),className:"admin-form-input"})]}),e.jsxs("div",{className:"admin-form-group",children:[e.jsx("label",{className:"admin-form-label",children:"Size Medium (M) qty"}),e.jsx("input",{type:"number",min:0,step:1,value:ae,onChange:s=>te(parseInt(s.target.value||"0",10)),className:"admin-form-input"})]}),e.jsxs("div",{className:"admin-form-group",children:[e.jsx("label",{className:"admin-form-label",children:"Size Large (L) qty"}),e.jsx("input",{type:"number",min:0,step:1,value:ne,onChange:s=>ie(parseInt(s.target.value||"0",10)),className:"admin-form-input"})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem"},children:[e.jsxs("div",{className:"admin-form-group",children:[e.jsx("label",{className:"admin-form-label",children:"Gender"}),e.jsxs("select",{value:n,onChange:s=>o(s.target.value),className:"admin-form-select",children:[e.jsx("option",{value:"men",children:"Men"}),e.jsx("option",{value:"women",children:"Women"})]})]}),e.jsxs("div",{className:"admin-form-group",children:[e.jsx("label",{className:"admin-form-label",children:"Subcategory"}),e.jsxs("select",{value:t,onChange:s=>f(s.target.value),className:"admin-form-select",children:[e.jsx("option",{value:"",children:"Select subcategory"}),de.map(s=>e.jsx("option",{value:s.id,children:s.title},s.id))]})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem"},children:[e.jsxs("div",{className:"admin-form-group",children:[e.jsx("label",{className:"admin-form-label",children:"Status"}),e.jsxs("select",{value:j,onChange:s=>_(s.target.value),className:"admin-form-select",children:[e.jsx("option",{value:"published",children:"Published"}),e.jsx("option",{value:"draft",children:"Draft"})]})]}),e.jsxs("div",{className:"admin-form-group",children:[e.jsx("label",{className:"admin-form-label",children:"Available Sizes (comma-separated)"}),e.jsx("input",{placeholder:"e.g. 46,48,50",value:i,onChange:s=>m(s.target.value),className:"admin-form-input"})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem"},children:[e.jsxs("div",{className:"admin-form-group",children:[e.jsx("label",{className:"admin-form-label",children:"Price GBP (£)"}),e.jsx("input",{type:"number",min:0,step:.01,value:u,onChange:s=>v(parseFloat(s.target.value||"0")),className:"admin-form-input"})]}),e.jsxs("div",{className:"admin-form-group",children:[e.jsx("label",{className:"admin-form-label",children:"Price EUR (€)"}),e.jsx("input",{type:"number",min:0,step:.01,value:E,onChange:s=>me(parseFloat(s.target.value||"0")),className:"admin-form-input"})]}),e.jsxs("div",{className:"admin-form-group",children:[e.jsx("label",{className:"admin-form-label",children:"Initial Stock Quantity"}),e.jsx("input",{type:"number",min:0,step:1,value:Q,onChange:s=>Z(parseInt(s.target.value||"0",10)),className:"admin-form-input"})]})]}),e.jsxs("div",{className:"admin-form-group",children:[e.jsx("label",{className:"admin-form-label",children:"Product Images"}),e.jsx("input",{type:"file",multiple:!0,onChange:s=>ue(s.target.files),className:"admin-form-input",style:{padding:"0.5rem 0"}})]}),e.jsxs("div",{children:[e.jsx("button",{type:"submit",className:"admin-btn admin-btn-primary",disabled:re,children:re?"Creating…":"Create Product"}),k&&e.jsx("div",{style:{marginTop:"0.75rem",padding:"0.5rem 0.75rem",borderRadius:"4px",backgroundColor:k.includes("failed")?"rgba(255, 69, 58, 0.1)":"rgba(52, 199, 89, 0.1)",color:k.includes("failed")?"rgb(215, 0, 21)":"rgb(30, 132, 73)",fontSize:"0.875rem"},children:k})]})]})]}),e.jsx("h3",{className:"admin-section-title",style:{fontSize:"1.25rem",marginTop:"2rem"},children:"Product Catalog"}),e.jsxs("div",{className:"admin-form-group",style:{display:"flex",gap:"1rem",alignItems:"center",marginBottom:"1rem"},children:[e.jsxs("select",{value:S,onChange:s=>pe(s.target.value),className:"admin-form-select",style:{width:"auto"},children:[e.jsx("option",{value:"all",children:"All Genders"}),e.jsx("option",{value:"men",children:"Men"}),e.jsx("option",{value:"women",children:"Women"})]}),e.jsxs("select",{value:z,onChange:s=>xe(s.target.value),className:"admin-form-select",style:{width:"auto"},children:[e.jsx("option",{value:"",children:"All Subcategories"}),de.map(s=>e.jsx("option",{value:s.id,children:s.title},s.id))]})]}),e.jsx("div",{className:"admin-box",children:ge?e.jsx("div",{className:"admin-loading",children:"Loading product catalog…"}):e.jsxs("table",{className:"admin-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Product Title"}),e.jsx("th",{children:"Handle"}),e.jsx("th",{children:"Gender"}),e.jsx("th",{children:"Status"})]})}),e.jsx("tbody",{children:ce.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,style:{textAlign:"center",padding:"2rem"},children:"No products match the selected filters"})}):ce.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:s.title}),e.jsx("td",{children:s.handle}),e.jsx("td",{children:s.gender}),e.jsx("td",{children:e.jsx("span",{className:`status-pill ${s.status==="published"?"status-completed":"status-pending"}`,children:s.status})})]},s.id))})]})})]})}function Re(){const c=be().pathname.split("/")[1]||"orders";return e.jsxs("div",{className:"admin-container",children:[e.jsx("header",{className:"admin-header",children:e.jsx("h1",{className:"admin-title",children:"Admin Dashboard"})}),e.jsxs("nav",{className:"admin-nav",children:[e.jsx(P,{to:"catalog",className:`admin-nav-link ${c==="catalog"?"active":""}`,children:"Catalog"}),e.jsx(P,{to:"orders",className:`admin-nav-link ${c==="orders"?"active":""}`,children:"Orders"}),e.jsx(P,{to:"pending",className:`admin-nav-link ${c==="pending"?"active":""}`,children:"Pending"}),e.jsx(P,{to:"promotions",className:`admin-nav-link ${c==="promotions"?"active":""}`,children:"Promotions"}),e.jsx(P,{to:"analytics",className:`admin-nav-link ${c==="analytics"?"active":""}`,children:"Analytics"})]}),e.jsx("main",{children:e.jsxs(ye,{children:[e.jsx(y,{index:!0,element:e.jsx(oe,{to:"orders",replace:!0})}),e.jsx(y,{path:"catalog",element:e.jsx(Le,{})}),e.jsx(y,{path:"orders",element:e.jsx(Ce,{})}),e.jsx(y,{path:"pending",element:e.jsx(Ie,{})}),e.jsx(y,{path:"promotions",element:e.jsx(we,{})}),e.jsx(y,{path:"analytics",element:e.jsx(De,{})}),e.jsx(y,{path:"*",element:e.jsx(oe,{to:"orders",replace:!0})})]})})]})}export{Re as default};
